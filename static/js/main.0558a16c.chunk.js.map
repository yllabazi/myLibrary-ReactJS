{"version":3,"sources":["components/AddBook.js","components/DeleteBook.js","components/Table.js","components/Form.js","data-persistance/localStorage.js","data-persistance/firebase.js","components/App.js","index.js"],"names":["AddBtn","btnStyle","visibility","this","props","addBtnVisibility","onClick","handleClick","className","style","React","Component","DeleteBtn","handleDelete","id","TableRow","title","author","published","pages","cursor","handleReadStatus","read","Table","rows","bookList","map","book","key","scope","FormGroup","label","onChange","name","type","value","AddBookForm","formStyle","formVisibility","closeFormClick","handleFormChange","addBook","Storage","books","JSON","parse","localStorage","getItem","console","log","getBooks","push","setItem","stringify","forEach","element","splice","indexOf","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","App","state","handleAddBookClicked","bind","handleCloseForm","handleFormSubmit","collection","get","then","snapshot","docs","doc","data","setState","e","preventDefault","target","store","updateBook","deleteBook","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0558a16c.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class AddBtn extends React.Component {\n  render() {\n    const btnStyle = {visibility: this.props.addBtnVisibility}\n    return (\n      <button \n        onClick={this.props.handleClick} \n        className='btn-info' \n        style={btnStyle}\n      >\n        Add Book\n      </button>\n    )\n  }\n}","import React from 'react';\n\nexport default class DeleteBtn extends React.Component {\n  render() {\n    return(\n      <button \n        onClick={() => this.props.handleDelete(this.props.id)}\n        className='btn-danger'>\n          Delete\n      </button>\n    )\n  }\n}","import React from 'react';\nimport DeleteBtn from './DeleteBook';\n\nclass TableRow extends React.Component {\n  render() {\n    return(\n      <tr >\n        <td>{this.props.title}</td>\n        <td>{this.props.author}</td>\n        <td>{this.props.published}</td>\n        <td>{this.props.pages}</td>\n        <td style={{cursor: 'pointer'}} onClick={() => this.props.handleReadStatus(this.props.title)}>{this.props.read ? '✔' :'✗'}</td>\n        <td><DeleteBtn handleDelete={this.props.handleDelete} id={this.props.title} /></td>\n      </tr>\n    )\n  }\n}\n\n\nclass Table extends React.Component {\n  render() {\n    const bookList = this.props.bookList;\n    const rows = bookList.map((book) => {\n      const {title, author, published, pages, read, id} = book\n      return (\n        <TableRow  \n          key={id}\n          title={title}\n          author={author}\n          published={published}\n          pages={pages}\n          read={read}\n          handleReadStatus={this.props.handleReadStatus}\n          handleDelete={this.props.handleDelete}\n        />\n      )\n    });\n    return (\n      <table className='table table-dark'>\n        <thead>\n          <tr>\n            <th scope='col'>Title</th>\n            <th scope='col'>Author</th>\n            <th scope='col'>Published</th>\n            <th scope='col'>Pages</th>\n            <th scope='col'>Read?</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows}\n        </tbody>\n      </table>\n    )\n  }\n}\n\nexport default Table;","import React from 'react';\n\nclass FormGroup extends React.Component {\n  render() {\n    return (\n      <div className='form-group'>\n        <label>\n          {this.props.label}: \n          <input \n            onChange={this.props.onChange}\n            name={this.props.name} \n            className='form-control' \n            type='text'\n            value={this.props.value}\n          />\n        </label>\n      </div>\n    )\n  }\n}\n\nexport default class AddBookForm extends React.Component {\n\n  render() {\n    const formStyle = {visibility: this.props.formVisibility}\n    return(\n      <form className='bookForm' style={formStyle}>\n\n        <div className='form-group'>\n          <button onClick={this.props.closeFormClick} className='close'>X</button>\n        </div>\n\n        <FormGroup onChange={this.props.handleFormChange} name='title' label='Title' value={this.props.title}/>\n        <FormGroup onChange={this.props.handleFormChange} name='author' label='Author' value={this.props.author}/>\n        <FormGroup onChange={this.props.handleFormChange} name='published' label='Published' value={this.props.published}/>\n        <FormGroup onChange={this.props.handleFormChange} name='pages' label='Pages' value={this.props.pages}/>\n        \n        <div onChange={this.props.handleFormChange} className='form-group'>\n          <label>\n            Have you read this book?\n            <div className='form-check'>\n              <input name='read' className='form-check-input' type='radio' value={true} />\n              <label>Yes</label>\n            </div>\n            <div className='form-check'>\n                <input name='read' className='form-check-input' type='radio' value={false} />\n              <label>No</label>\n            </div>\n          </label>\n        </div>\n\n        <div>\n          <button onClick={this.props.addBook} className='btn btn-info submit'>Add</button>\n        </div>\n      \n      </form>\n    )\n  }\n}","export default class Storage {\n  //get all books\n  static getBooks() {\n    let books = JSON.parse(localStorage.getItem('Books'));\n    console.log(books);\n    return books;\n  }\n\n  //add book\n  static addBook(book) {\n    const books = this.getBooks();\n    books.push(book);\n    localStorage.setItem('Books', JSON.stringify(books));\n  }\n\n  //update book's read status\n  static updateBook(book) {\n    const books = this.getBooks();\n    books.forEach((element) => {\n      if (element.title === book) {\n        element.read = !element.read;\n      }\n    });\n    localStorage.setItem('Books', JSON.stringify(books));\n  }\n\n  //delete book\n  static deleteBook(book) {\n    const books = this.getBooks();\n    books.forEach((element) => {\n      if (element.title === book) {\n        books.splice(books.indexOf(element), 1);\n      }\n    });\n    localStorage.setItem('Books', JSON.stringify(books));\n  }\n}","import * as firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA1PqseE9umXJ9UpVSA749DDc0e9HBXx9c\",\n  authDomain: \"mylibrary-aff2f.firebaseapp.com\",\n  databaseURL: \"https://mylibrary-aff2f.firebaseio.com\",\n  projectId: \"mylibrary-aff2f\",\n  storageBucket: \"mylibrary-aff2f.appspot.com\",\n  messagingSenderId: \"39131130010\",\n  appId: \"1:39131130010:web:e7c343dc7f402e93b09723\",\n  measurementId: \"G-T22LTTM10P\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\nexport default db;","import React from \"react\";\nimport AddBtn from \"./AddBook\";\nimport Table from \"./Table\";\nimport Form from \"./Form\";\nimport store from '../data-persistance/localStorage';\nimport db from \"../data-persistance/firebase\";\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formVisibility: \"hidden\",\n      addBtnVisibility: \"visible\",\n      title: \"\",\n      author: \"\",\n      published: \"\",\n      pages: \"\",\n      read: true,\n      books: this.getBooks(),\n    };\n    this.handleAddBookClicked = this.handleAddBookClicked.bind(this);\n    this.handleCloseForm = this.handleCloseForm.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.handleReadStatus = this.handleReadStatus.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  getBooks() {\n    let books = [];\n    db.collection(\"Books\")\n      .get()\n      .then((snapshot) => {\n        snapshot.docs.forEach((doc) => {\n          const book = {\n            id: doc.id,\n            title: doc.data().title,\n            author: doc.data().author,\n            published: doc.data().published,\n            pages: doc.data().pages,\n            read: doc.data().read,\n          };\n          books.push(book);\n          this.setState({ books: books });\n        });\n      })\n    return books;\n  }\n\n  handleAddBookClicked() {\n    this.setState({ formVisibility: \"visible\", addBtnVisibility: \"hidden\" });\n  }\n  handleCloseForm(e) {\n    e.preventDefault();\n    this.setState({ formVisibility: \"hidden\", addBtnVisibility: \"visible\" });\n  }\n  handleFormChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n  handleFormSubmit(e) {\n    e.preventDefault();\n    const book = {\n      title: this.state.title,\n      author: this.state.author,\n      published: this.state.published,\n      pages: this.state.pages,\n      read: this.state.read,\n    };\n    store.addBook(book);\n    this.setState({\n      title: \"\",\n      author: \"\",\n      published: \"\",\n      pages: \"\",\n      read: true,\n      books: store.getBooks(),\n      formVisibility: \"hidden\",\n      addBtnVisibility: \"visible\",\n    });\n  }\n\n  handleReadStatus(book) {\n    store.updateBook(book);\n    this.setState({ books: store.getBooks() });\n  }\n  handleDelete(id) {\n    store.deleteBook(id);\n    this.setState({ books: store.getBooks() });\n  }\n  render() {\n    return (\n      <div>\n        <h1>myLibrary</h1>\n        <h3>Add books that you've read or intend to read:</h3>\n        <Table\n          handleReadStatus={this.handleReadStatus}\n          bookList={this.state.books}\n          handleDelete={this.handleDelete}\n        />\n        <AddBtn\n          handleClick={this.handleAddBookClicked}\n          addBtnVisibility={this.state.addBtnVisibility}\n        />\n        <Form\n          formVisibility={this.state.formVisibility}\n          closeFormClick={this.handleCloseForm}\n          handleFormChange={this.handleFormChange}\n          addBook={this.handleFormSubmit}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}