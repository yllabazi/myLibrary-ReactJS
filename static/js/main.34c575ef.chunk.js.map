{"version":3,"sources":["components/AddBook.js","components/DeleteBook.js","components/Table.js","components/Form.js","data-persistance/firebase.js","components/App.js","index.js"],"names":["AddBtn","btnStyle","visibility","this","props","addBtnVisibility","onClick","handleClick","className","style","React","Component","DeleteBtn","handleDelete","id","TableRow","title","author","published","pages","cursor","handleReadStatus","bookId","read","Table","rows","bookList","map","book","key","scope","FormGroup","label","onChange","name","type","value","AddBookForm","formStyle","formVisibility","closeFormClick","handleFormChange","addBook","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","db","Storage","component","books","collection","orderBy","get","then","snapshot","docs","forEach","doc","data","push","setState","time","addedAt","FieldValue","serverTimestamp","b","set","console","log","delete","update","App","state","store","getBooks","handleAddBookClicked","bind","handleCloseForm","handleFormSubmit","e","preventDefault","target","updateBook","deleteBook","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.34c575ef.chunk.js","sourcesContent":["import React from 'react';\n\nexport default class AddBtn extends React.Component {\n  render() {\n    const btnStyle = {visibility: this.props.addBtnVisibility}\n    return (\n      <button \n        onClick={this.props.handleClick} \n        className='btn-info' \n        style={btnStyle}\n      >\n        Add Book\n      </button>\n    )\n  }\n}","import React from 'react';\n\nexport default class DeleteBtn extends React.Component {\n  render() {\n    return(\n      <button \n        onClick={() => this.props.handleDelete(this.props.id)}\n        className='btn-danger'>\n          Delete\n      </button>\n    )\n  }\n}","import React from 'react';\nimport DeleteBtn from './DeleteBook';\n\nclass TableRow extends React.Component {\n  render() {\n    return(\n      <tr >\n        <td>{this.props.title}</td>\n        <td>{this.props.author}</td>\n        <td>{this.props.published}</td>\n        <td>{this.props.pages}</td>\n        <td style={{cursor: 'pointer'}} onClick={() => this.props.handleReadStatus(this.props.bookId, this.props.read)}>{this.props.read ? '✔' :'✗'}</td>\n        <td><DeleteBtn handleDelete={this.props.handleDelete} id={this.props.bookId} /></td>\n      </tr>\n    )\n  }\n}\n\n\nclass Table extends React.Component {\n  render() {\n    const bookList = this.props.bookList;\n    const rows = bookList.map((book) => {\n      const {title, author, published, pages, read, id} = book\n      return (\n        <TableRow  \n          key={id}\n          title={title}\n          author={author}\n          published={published}\n          pages={pages}\n          read={read}\n          handleReadStatus={this.props.handleReadStatus}\n          handleDelete={this.props.handleDelete}\n          bookId={id}\n        />\n      )\n    });\n    return (\n      <table className='table table-dark'>\n        <thead>\n          <tr>\n            <th scope='col'>Title</th>\n            <th scope='col'>Author</th>\n            <th scope='col'>Published</th>\n            <th scope='col'>Pages</th>\n            <th scope='col'>Read?</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows}\n        </tbody>\n      </table>\n    )\n  }\n}\n\nexport default Table;","import React from 'react';\n\nclass FormGroup extends React.Component {\n  render() {\n    return (\n      <div className='form-group'>\n        <label>\n          {this.props.label}: \n          <input \n            onChange={this.props.onChange}\n            name={this.props.name} \n            className='form-control' \n            type='text'\n            value={this.props.value}\n          />\n        </label>\n      </div>\n    )\n  }\n}\n\nexport default class AddBookForm extends React.Component {\n\n  render() {\n    const formStyle = {visibility: this.props.formVisibility}\n    return(\n      <form className='bookForm' style={formStyle}>\n\n        <div className='form-group'>\n          <button onClick={this.props.closeFormClick} className='close'>X</button>\n        </div>\n\n        <FormGroup onChange={this.props.handleFormChange} name='title' label='Title' value={this.props.title}/>\n        <FormGroup onChange={this.props.handleFormChange} name='author' label='Author' value={this.props.author}/>\n        <FormGroup onChange={this.props.handleFormChange} name='published' label='Published' value={this.props.published}/>\n        <FormGroup onChange={this.props.handleFormChange} name='pages' label='Pages' value={this.props.pages}/>\n        \n        <div onChange={this.props.handleFormChange} className='form-group'>\n          <label>\n            Have you read this book?\n            <div className='form-check'>\n              <input name='read' className='form-check-input' type='radio' value={true} />\n              <label>Yes</label>\n            </div>\n            <div className='form-check'>\n                <input name='read' className='form-check-input' type='radio' value={false} />\n              <label>No</label>\n            </div>\n          </label>\n        </div>\n\n        <div>\n          <button onClick={this.props.addBook} className='btn btn-info submit'>Add</button>\n        </div>\n      \n      </form>\n    )\n  }\n}","import * as firebase from 'firebase';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyA1PqseE9umXJ9UpVSA749DDc0e9HBXx9c\",\n  authDomain: \"mylibrary-aff2f.firebaseapp.com\",\n  databaseURL: \"https://mylibrary-aff2f.firebaseio.com\",\n  projectId: \"mylibrary-aff2f\",\n  storageBucket: \"mylibrary-aff2f.appspot.com\",\n  messagingSenderId: \"39131130010\",\n  appId: \"1:39131130010:web:e7c343dc7f402e93b09723\",\n  measurementId: \"G-T22LTTM10P\"\n};\n// Initialize Firebase\nfirebase.initializeApp(firebaseConfig);\nconst db = firebase.firestore();\n\nexport default class Storage {\n  //get all books\n  static getBooks(component = '') {\n    let books = [];\n    db.collection(\"Books\")\n      .orderBy('addedAt', 'asc')\n      .get()\n      .then((snapshot) => {\n        snapshot.docs.forEach((doc) => {\n          const book = {\n            id: doc.id,\n            title: doc.data().title,\n            author: doc.data().author,\n            published: doc.data().published,\n            pages: doc.data().pages,\n            read: doc.data().read,\n          };\n          books.push(book);\n          if (component !== '') {\n            component.setState({ books: books });\n          }\n        });\n      })\n      return books;\n  }\n  //add a book\n  static addBook(book) {\n    const time = {addedAt: firebase.firestore.FieldValue.serverTimestamp()}\n    const b = {...book, ...time}\n    db.collection('Books').doc().set(b)\n    .then(() => {\n      console.log('Book added successfuly.');\n    })\n  }\n\n  //delete a book\n  static deleteBook(book) {\n    db.collection('Books').doc(book).delete().then(() => {\n      console.log('Book deleted successfuly.');\n    })\n  }\n\n  //toggle read status on a book\n  static updateBook(book, value) {\n    let read = value === true ? false : true;\n    \n    console.log(`Read status was ${value}, now changed to ${read}`)\n    \n    db.collection('Books').doc(book).update({\n      read: read,\n    }).then(() => {\n      // console.log('Read status updated successfully.');\n    })\n  }\n}","import React from \"react\";\nimport AddBtn from \"./AddBook\";\nimport Table from \"./Table\";\nimport Form from \"./Form\";\nimport store from \"../data-persistance/firebase\";\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      formVisibility: \"hidden\",\n      addBtnVisibility: \"visible\",\n      title: \"\",\n      author: \"\",\n      published: \"\",\n      pages: \"\",\n      read: true,\n      books: store.getBooks(this),\n    };\n    this.handleAddBookClicked = this.handleAddBookClicked.bind(this);\n    this.handleCloseForm = this.handleCloseForm.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.handleReadStatus = this.handleReadStatus.bind(this);\n    this.handleDelete = this.handleDelete.bind(this);\n  }\n\n  handleAddBookClicked() {\n    this.setState({ formVisibility: \"visible\", addBtnVisibility: \"hidden\" });\n  }\n  handleCloseForm(e) {\n    e.preventDefault();\n    this.setState({ formVisibility: \"hidden\", addBtnVisibility: \"visible\" });\n  }\n  handleFormChange(e) {\n    this.setState({ [e.target.name]: e.target.value });\n  }\n  handleFormSubmit(e) {\n    e.preventDefault();\n    const book = {\n      title: this.state.title,\n      author: this.state.author,\n      published: this.state.published,\n      pages: this.state.pages,\n      read: this.state.read === \"true\" ? true : false,\n    };\n    store.addBook(book);\n    this.setState({\n      title: \"\",\n      author: \"\",\n      published: \"\",\n      pages: \"\",\n      read: true,\n      books: store.getBooks(this),\n      formVisibility: \"hidden\",\n      addBtnVisibility: \"visible\",\n    });\n  }\n\n  handleReadStatus(book, value) {\n    store.updateBook(book, value);\n    this.setState({ books: store.getBooks(this) });\n  }\n  handleDelete(id) {\n    store.deleteBook(id);\n    this.setState({ books: store.getBooks(this) });\n  }\n  render() {\n    return (\n      <div>\n        <h1>myLibrary</h1>\n        <h3>Add books that you've read or intend to read:</h3>\n        <Table\n          handleReadStatus={this.handleReadStatus}\n          bookList={this.state.books}\n          handleDelete={this.handleDelete}\n        />\n        <AddBtn\n          handleClick={this.handleAddBookClicked}\n          addBtnVisibility={this.state.addBtnVisibility}\n        />\n        <Form\n          formVisibility={this.state.formVisibility}\n          closeFormClick={this.handleCloseForm}\n          handleFormChange={this.handleFormChange}\n          addBook={this.handleFormSubmit}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App'\nimport './index.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}