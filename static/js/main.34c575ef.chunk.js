(this["webpackJsonpmy-library-react"]=this["webpackJsonpmy-library-react"]||[]).push([[0],{18:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(17),i=a.n(o),r=a(12),s=a(3),c=a(4),d=a(8),u=a(7),h=a(6),p=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={visibility:this.props.addBtnVisibility};return l.a.createElement("button",{onClick:this.props.handleClick,className:"btn-info",style:e},"Add Book")}}]),a}(l.a.Component),m=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("button",{onClick:function(){return e.props.handleDelete(e.props.id)},className:"btn-danger"},"Delete")}}]),a}(l.a.Component),b=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("tr",null,l.a.createElement("td",null,this.props.title),l.a.createElement("td",null,this.props.author),l.a.createElement("td",null,this.props.published),l.a.createElement("td",null,this.props.pages),l.a.createElement("td",{style:{cursor:"pointer"},onClick:function(){return e.props.handleReadStatus(e.props.bookId,e.props.read)}},this.props.read?"\u2714":"\u2717"),l.a.createElement("td",null,l.a.createElement(m,{handleDelete:this.props.handleDelete,id:this.props.bookId})))}}]),a}(l.a.Component),f=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e=this,t=this.props.bookList.map((function(t){var a=t.title,n=t.author,o=t.published,i=t.pages,r=t.read,s=t.id;return l.a.createElement(b,{key:s,title:a,author:n,published:o,pages:i,read:r,handleReadStatus:e.props.handleReadStatus,handleDelete:e.props.handleDelete,bookId:s})}));return l.a.createElement("table",{className:"table table-dark"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",{scope:"col"},"Title"),l.a.createElement("th",{scope:"col"},"Author"),l.a.createElement("th",{scope:"col"},"Published"),l.a.createElement("th",{scope:"col"},"Pages"),l.a.createElement("th",{scope:"col"},"Read?"))),l.a.createElement("tbody",null,t))}}]),a}(l.a.Component),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,this.props.label,":",l.a.createElement("input",{onChange:this.props.onChange,name:this.props.name,className:"form-control",type:"text",value:this.props.value})))}}]),a}(l.a.Component),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){var e={visibility:this.props.formVisibility};return l.a.createElement("form",{className:"bookForm",style:e},l.a.createElement("div",{className:"form-group"},l.a.createElement("button",{onClick:this.props.closeFormClick,className:"close"},"X")),l.a.createElement(k,{onChange:this.props.handleFormChange,name:"title",label:"Title",value:this.props.title}),l.a.createElement(k,{onChange:this.props.handleFormChange,name:"author",label:"Author",value:this.props.author}),l.a.createElement(k,{onChange:this.props.handleFormChange,name:"published",label:"Published",value:this.props.published}),l.a.createElement(k,{onChange:this.props.handleFormChange,name:"pages",label:"Pages",value:this.props.pages}),l.a.createElement("div",{onChange:this.props.handleFormChange,className:"form-group"},l.a.createElement("label",null,"Have you read this book?",l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{name:"read",className:"form-check-input",type:"radio",value:!0}),l.a.createElement("label",null,"Yes")),l.a.createElement("div",{className:"form-check"},l.a.createElement("input",{name:"read",className:"form-check-input",type:"radio",value:!1}),l.a.createElement("label",null,"No")))),l.a.createElement("div",null,l.a.createElement("button",{onClick:this.props.addBook,className:"btn btn-info submit"},"Add")))}}]),a}(l.a.Component),v=a(15),g=a(13);g.initializeApp({apiKey:"AIzaSyA1PqseE9umXJ9UpVSA749DDc0e9HBXx9c",authDomain:"mylibrary-aff2f.firebaseapp.com",databaseURL:"https://mylibrary-aff2f.firebaseio.com",projectId:"mylibrary-aff2f",storageBucket:"mylibrary-aff2f.appspot.com",messagingSenderId:"39131130010",appId:"1:39131130010:web:e7c343dc7f402e93b09723",measurementId:"G-T22LTTM10P"});var E=g.firestore(),j=function(){function e(){Object(s.a)(this,e)}return Object(c.a)(e,null,[{key:"getBooks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];return E.collection("Books").orderBy("addedAt","asc").get().then((function(a){a.docs.forEach((function(a){var n={id:a.id,title:a.data().title,author:a.data().author,published:a.data().published,pages:a.data().pages,read:a.data().read};t.push(n),""!==e&&e.setState({books:t})}))})),t}},{key:"addBook",value:function(e){var t={addedAt:g.firestore.FieldValue.serverTimestamp()},a=Object(v.a)(Object(v.a)({},e),t);E.collection("Books").doc().set(a).then((function(){console.log("Book added successfuly.")}))}},{key:"deleteBook",value:function(e){E.collection("Books").doc(e).delete().then((function(){console.log("Book deleted successfuly.")}))}},{key:"updateBook",value:function(e,t){var a=!0!==t;console.log("Read status was ".concat(t,", now changed to ").concat(a)),E.collection("Books").doc(e).update({read:a}).then((function(){}))}}]),e}(),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={formVisibility:"hidden",addBtnVisibility:"visible",title:"",author:"",published:"",pages:"",read:!0,books:j.getBooks(Object(d.a)(n))},n.handleAddBookClicked=n.handleAddBookClicked.bind(Object(d.a)(n)),n.handleCloseForm=n.handleCloseForm.bind(Object(d.a)(n)),n.handleFormChange=n.handleFormChange.bind(Object(d.a)(n)),n.handleFormSubmit=n.handleFormSubmit.bind(Object(d.a)(n)),n.handleReadStatus=n.handleReadStatus.bind(Object(d.a)(n)),n.handleDelete=n.handleDelete.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"handleAddBookClicked",value:function(){this.setState({formVisibility:"visible",addBtnVisibility:"hidden"})}},{key:"handleCloseForm",value:function(e){e.preventDefault(),this.setState({formVisibility:"hidden",addBtnVisibility:"visible"})}},{key:"handleFormChange",value:function(e){this.setState(Object(r.a)({},e.target.name,e.target.value))}},{key:"handleFormSubmit",value:function(e){e.preventDefault();var t={title:this.state.title,author:this.state.author,published:this.state.published,pages:this.state.pages,read:"true"===this.state.read};j.addBook(t),this.setState({title:"",author:"",published:"",pages:"",read:!0,books:j.getBooks(this),formVisibility:"hidden",addBtnVisibility:"visible"})}},{key:"handleReadStatus",value:function(e,t){j.updateBook(e,t),this.setState({books:j.getBooks(this)})}},{key:"handleDelete",value:function(e){j.deleteBook(e),this.setState({books:j.getBooks(this)})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"myLibrary"),l.a.createElement("h3",null,"Add books that you've read or intend to read:"),l.a.createElement(f,{handleReadStatus:this.handleReadStatus,bookList:this.state.books,handleDelete:this.handleDelete}),l.a.createElement(p,{handleClick:this.handleAddBookClicked,addBtnVisibility:this.state.addBtnVisibility}),l.a.createElement(y,{formVisibility:this.state.formVisibility,closeFormClick:this.handleCloseForm,handleFormChange:this.handleFormChange,addBook:this.handleFormSubmit}))}}]),a}(l.a.Component);a(39);i.a.render(l.a.createElement(C,null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.34c575ef.chunk.js.map